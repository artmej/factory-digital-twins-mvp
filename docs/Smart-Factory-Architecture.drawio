<mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0"/>
    
    <!-- Title -->
    <mxCell id="title" value="Smart Factory - Case Study #36 Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="350" y="20" width="500" height="30" as="geometry"/>
    </mxCell>
    
    <!-- Edge Layer -->
    <mxCell id="edge-container" value="ðŸ­ AZURE LOCAL - Edge Computing" style="swimlane;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;fontSize=14;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="80" y="80" width="280" height="180" as="geometry"/>
    </mxCell>
    
    <mxCell id="vm" value="VM arc-simple&#xa;130.131.248.173&#xa;Windows Server 2022&#xa;ðŸ”´ Auto-shutdown @12:00" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;" vertex="1" parent="edge-container">
      <mxGeometry x="20" y="40" width="120" height="60" as="geometry"/>
    </mxCell>
    
    <mxCell id="arc-agent" value="Azure Arc Agent&#xa;Hybrid Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;" vertex="1" parent="edge-container">
      <mxGeometry x="150" y="40" width="110" height="40" as="geometry"/>
    </mxCell>
    
    <mxCell id="factory-sim" value="Factory Simulator&#xa;4 Machines&#xa;Real-time Telemetry" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#F57C00;" vertex="1" parent="edge-container">
      <mxGeometry x="20" y="110" width="120" height="50" as="geometry"/>
    </mxCell>
    
    <mxCell id="iot-edge" value="IoT Edge Runtime&#xa;Local Processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8BBD0;strokeColor=#E91E63;" vertex="1" parent="edge-container">
      <mxGeometry x="150" y="110" width="110" height="40" as="geometry"/>
    </mxCell>

    <!-- Connectivity Layer -->
    <mxCell id="connectivity-container" value="ðŸŒ HYBRID CONNECTIVITY" style="swimlane;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=14;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="400" y="80" width="280" height="180" as="geometry"/>
    </mxCell>
    
    <mxCell id="azure-arc" value="Azure Arc Connection&#xa;Secure Hybrid Bridge" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC02;strokeColor=#FF8F00;" vertex="1" parent="connectivity-container">
      <mxGeometry x="20" y="40" width="120" height="50" as="geometry"/>
    </mxCell>
    
    <mxCell id="vnet" value="VNet Integration&#xa;azlocal-vnet&#xa;10.0.0.0/16&#xa;â€¢ VM: 10.0.1.0/24&#xa;â€¢ IoT: 10.0.2.0/24&#xa;â€¢ Functions: 10.0.3.0/24" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#4CAF50;" vertex="1" parent="connectivity-container">
      <mxGeometry x="150" y="40" width="110" height="120" as="geometry"/>
    </mxCell>

    <!-- Azure Cloud Layer -->
    <mxCell id="cloud-container" value="â˜ï¸ AZURE CLOUD - Production Services" style="swimlane;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;fontSize=14;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="720" y="80" width="400" height="300" as="geometry"/>
    </mxCell>
    
    <mxCell id="iot-hub" value="Azure IoT Hub&#xa;sf-iothub-demo&#xa;Message Ingestion" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2196F3;strokeColor=#0D47A1;fontColor=white;" vertex="1" parent="cloud-container">
      <mxGeometry x="20" y="40" width="110" height="50" as="geometry"/>
    </mxCell>
    
    <mxCell id="functions" value="Azure Functions&#xa;sf-func-adt-demo&#xa;IoT â†’ ADT Projection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#E65100;fontColor=white;" vertex="1" parent="cloud-container">
      <mxGeometry x="140" y="40" width="110" height="50" as="geometry"/>
    </mxCell>
    
    <mxCell id="digital-twins" value="Azure Digital Twins&#xa;sf-adt-demo&#xa;DTDL Models" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9C27B0;strokeColor=#4A148C;fontColor=white;" vertex="1" parent="cloud-container">
      <mxGeometry x="270" y="40" width="110" height="50" as="geometry"/>
    </mxCell>
    
    <mxCell id="ml-workspace" value="Azure ML Workspace&#xa;Predictive Models&#xa;94.7% Accuracy" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#1B5E20;fontColor=white;" vertex="1" parent="cloud-container">
      <mxGeometry x="20" y="110" width="110" height="50" as="geometry"/>
    </mxCell>
    
    <mxCell id="storage" value="Storage Account&#xa;sf-storage-demo&#xa;Telemetry Archive" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#607D8B;strokeColor=#263238;fontColor=white;" vertex="1" parent="cloud-container">
      <mxGeometry x="140" y="110" width="110" height="50" as="geometry"/>
    </mxCell>
    
    <mxCell id="dtdl-models" value="DTDL Models&#xa;â€¢ Factory Interface&#xa;â€¢ Machine Interface&#xa;â€¢ Sensor Interface&#xa;â€¢ Line Interface" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#8E24AA;" vertex="1" parent="cloud-container">
      <mxGeometry x="270" y="110" width="110" height="80" as="geometry"/>
    </mxCell>

    <!-- Applications Layer -->
    <mxCell id="apps-container" value="ðŸ“± APPLICATIONS - User Interfaces" style="swimlane;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#388E3C;fontSize=14;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="80" y="420" width="1040" height="180" as="geometry"/>
    </mxCell>
    
    <mxCell id="3d-viewer" value="3D Digital Twins&#xa;localhost:3003&#xa;Three.js + WebGL&#xa;Realistic Factory" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4FC3F7;strokeColor=#0288D1;" vertex="1" parent="apps-container">
      <mxGeometry x="30" y="40" width="120" height="70" as="geometry"/>
    </mxCell>
    
    <mxCell id="mobile-server" value="Mobile Server&#xa;localhost:3002&#xa;React Native&#xa;Worker Interface" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#388E3C;" vertex="1" parent="apps-container">
      <mxGeometry x="170" y="40" width="120" height="70" as="geometry"/>
    </mxCell>
    
    <mxCell id="dashboard" value="Central Dashboard&#xa;localhost:8080&#xa;Service Orchestration&#xa;Demo Control" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#F57C00;" vertex="1" parent="apps-container">
      <mxGeometry x="310" y="40" width="120" height="70" as="geometry"/>
    </mxCell>
    
    <mxCell id="connector" value="Digital Twins&#xa;Connector&#xa;localhost:3001&#xa;Real-time API Bridge" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F06292;strokeColor=#C2185B;" vertex="1" parent="apps-container">
      <mxGeometry x="450" y="40" width="120" height="70" as="geometry"/>
    </mxCell>
    
    <mxCell id="monitor" value="VNet End-to-End&#xa;Monitor&#xa;localhost:3010&#xa;Architecture Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BA68C8;strokeColor=#7B1FA2;" vertex="1" parent="apps-container">
      <mxGeometry x="590" y="40" width="120" height="70" as="geometry"/>
    </mxCell>

    <!-- Stage 4 Future -->
    <mxCell id="future-container" value="ðŸ¥½ STAGE 4 - AR/VR (Future)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#AD1457;fontSize=14;fontStyle=1;" vertex="1" parent="apps-container">
      <mxGeometry x="740" y="30" width="280" height="130" as="geometry"/>
    </mxCell>
    
    <mxCell id="ar-mobile" value="ðŸ“± Mobile AR&#xa;QR Code Scanning&#xa;Machine Overlay" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8BBD0;strokeColor=#E91E63;" vertex="1" parent="future-container">
      <mxGeometry x="20" y="30" width="80" height="50" as="geometry"/>
    </mxCell>
    
    <mxCell id="hololens" value="ðŸ¥½ HoloLens&#xa;Factory Floor AR&#xa;Digital Overlay" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D1C4E9;strokeColor=#7B1FA2;" vertex="1" parent="future-container">
      <mxGeometry x="110" y="30" width="80" height="50" as="geometry"/>
    </mxCell>
    
    <mxCell id="vr-training" value="ðŸ­ VR Training&#xa;Safe Maintenance&#xa;Remote Access" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#D32F2F;" vertex="1" parent="future-container">
      <mxGeometry x="200" y="30" width="70" height="50" as="geometry"/>
    </mxCell>

    <!-- Data Flow Arrows -->
    <mxCell id="flow1" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#1976D2;" edge="1" parent="1" source="factory-sim" target="azure-arc">
      <mxGeometry width="50" height="50" relative="1" as="geometry">
        <mxPoint x="370" y="200" as="sourcePoint"/>
        <mxPoint x="420" y="150" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="flow1-label" value="Device&#xa;Telemetry" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#1976D2;" vertex="1" parent="1">
      <mxGeometry x="350" y="170" width="60" height="30" as="geometry"/>
    </mxCell>

    <mxCell id="flow2" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#1976D2;" edge="1" parent="1" source="azure-arc" target="iot-hub">
      <mxGeometry width="50" height="50" relative="1" as="geometry">
        <mxPoint x="550" y="200" as="sourcePoint"/>
        <mxPoint x="750" y="150" as="targetPoint"/>
      </mxGeometry>
    </mxCell>

    <mxCell id="flow3" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#FF9800;" edge="1" parent="1" source="iot-hub" target="functions">
      <mxGeometry width="50" height="50" relative="1" as="geometry">
        <mxPoint x="850" y="140" as="sourcePoint"/>
        <mxPoint x="900" y="140" as="targetPoint"/>
      </mxGeometry>
    </mxCell>

    <mxCell id="flow4" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#9C27B0;" edge="1" parent="1" source="functions" target="digital-twins">
      <mxGeometry width="50" height="50" relative="1" as="geometry">
        <mxPoint x="880" y="140" as="sourcePoint"/>
        <mxPoint x="1000" y="140" as="targetPoint"/>
      </mxGeometry>
    </mxCell>

    <mxCell id="flow5" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4CAF50;" edge="1" parent="1" source="digital-twins" target="connector">
      <mxGeometry width="50" height="50" relative="1" as="geometry">
        <mxPoint x="1000" y="200" as="sourcePoint"/>
        <mxPoint x="580" y="420" as="targetPoint"/>
      </mxGeometry>
    </mxCell>

    <mxCell id="flow6" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4FC3F7;" edge="1" parent="1" source="connector" target="3d-viewer">
      <mxGeometry width="50" height="50" relative="1" as="geometry">
        <mxPoint x="450" y="480" as="sourcePoint"/>
        <mxPoint x="200" y="480" as="targetPoint"/>
      </mxGeometry>
    </mxCell>

    <!-- Performance Metrics -->
    <mxCell id="metrics" value="ðŸŽ¯ Performance Metrics&#xa;â€¢ ML Accuracy: 94.7%&#xa;â€¢ ROI: $2.2M&#xa;â€¢ Downtime Reduction: 38%&#xa;â€¢ Well-Architected: 90/100" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=12;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="80" y="650" width="200" height="100" as="geometry"/>
    </mxCell>

    <!-- Technology Stack -->
    <mxCell id="tech-stack" value="ðŸ’» Technology Stack&#xa;â€¢ Edge: Node.js, PowerShell, IoT Edge&#xa;â€¢ Cloud: Azure IoT Hub, Functions, ADT&#xa;â€¢ Apps: Three.js, React Native, Express&#xa;â€¢ ML: Random Forest, Isolation Forest&#xa;â€¢ Network: VNet, Private Endpoints" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;fontSize=12;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="320" y="650" width="280" height="100" as="geometry"/>
    </mxCell>

    <!-- Status Indicators -->
    <mxCell id="status" value="ðŸ“Š Current Status&#xa;âœ… Phase 1-3: Complete&#xa;âœ… VNet Integration: Ready&#xa;ðŸ”„ Azure Deployment: In Progress&#xa;ðŸ”´ VM: Auto-shutdown @12:00&#xa;ðŸš€ Ready for Production" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=12;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="640" y="650" width="200" height="100" as="geometry"/>
    </mxCell>

    <!-- Future Vision -->
    <mxCell id="future-vision" value="ðŸ”® Stage 4 Vision&#xa;ðŸ¥½ HoloLens Factory AR&#xa;ðŸ“± Mobile Machine Scanning&#xa;ðŸ­ VR Training Modules&#xa;ðŸ¤– AI Voice Commands&#xa;ðŸŒ Global Remote Access" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#AD1457;fontSize=12;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="880" y="650" width="200" height="100" as="geometry"/>
    </mxCell>

  </root>
</mxGraphModel>